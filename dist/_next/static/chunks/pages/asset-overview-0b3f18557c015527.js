(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[514],{51886:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/asset-overview",function(){return t(85873)}])},85873:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ej}});var r=t(85893),s=t(61730),a=t(5616),i=t(90629),l=t(67294),o=t(67952),d=t(11163),c=t(82729),x=t(15861),u=t(60355),h=t(85119),p=t(67720),m=t(69417),f=t(98456),j=t(64032),v=t(53345),g=t(10084),y=t(87066),b=t(74187),Z=t(31065),I=t(77294),w=t(2593),F=t(86012),S=t(19215),C=t(97975),D=t(92900),T=t(93946),k=t(53219),B=t(35294),H=t(18972),L=t(59334),M=t(79369),_=t(46907);let R=e=>{let{replyInfo:n}=e,{account:t,signer:s}=(0,Z.Yh)(),{refetchBodhiData:i}=(0,S.n)(),[o,d]=(0,l.useState)(null),c=!!o,x=()=>{d(null)};async function u(){try{let e=n.spaceFactory.spaceAddress,r=new I.CH(e,F,s),a={from:t,to:e,value:w.O$.from(0),data:r.interface.encodeFunctionData("removeFromBodhi",[n.parentId,n.assetId])},l=await r.provider.estimateGas(a);console.log("gasLimit:",l.toNumber());let o=null==s?void 0:s.sendTransaction({...a,gasLimit:l});null==o||o.then(e=>{e.wait().then(e=>{1===e.status?(0,g.L)(!0,"Remove Success."):(0,g.L)(!1,"Confirm failure."),i&&i()}).catch(e=>{(0,g.L)(!1,e.reason)})}).catch(e=>{(0,g.L)(!1,e.reason)})}catch(e){-32603===e.code&&-32015==e.data.code?(0,g.L)(!1,"Insufficient funds for gas."):(0,g.L)(!1,"Confirm failure.")}}return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(T.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:18,height:18,borderRadius:"50%",p:0,minWidth:0},onClick:e=>{d(e.currentTarget)},children:(0,r.jsx)(k.Z,{sx:{fontSize:18,color:c?"info.main":"text.muted",borderRadius:"50%","&:hover":"info.main"},children:(0,r.jsx)(M.Z,{fontSize:"medium",sx:{color:"#d7e2e3"}})})}),(0,r.jsx)(B.Z,{id:"withdraw-item-extra-menu",anchorEl:o,open:c,onClose:x,keepMounted:!0,PaperProps:{sx:{minWidth:"120px",py:0}},sx:{"& .MuiMenu-paper":{backgroundColor:"#2e2c56",boxShadow:"3px 3px 2px #1e1d35"}},children:t==n.sender?(0,r.jsxs)(H.Z,{sx:{gap:2},onClick:()=>{x(),u()},children:[(0,r.jsx)(_.Z,{color:"error",fontSize:"small"}),(0,r.jsx)(L.Z,{sx:{color:"#ff0000"},children:"Delete"})]}):(0,r.jsx)(r.Fragment,{children:"..."})})]})},A=e=>{var n,t,s;let{replyInfo:i}=e,l=(0,d.useRouter)(),o=i?[i.arTxId]:[],c=(0,C.lv)(o);return(0,r.jsx)(r.Fragment,{children:c.length>0?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(a.Z,{sx:{mb:2,borderTop:"1px solid #434b59",padding:"10px 0"},children:[(0,r.jsx)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"row"},children:(0,r.jsx)(D.M,{blockTimestamp:i.blockTimestamp,sender:i.sender,spaceUserInfo:null==i?void 0:i.spaceFactory,imgWidth:28,handleClick:()=>{l.push("/space-overview/?address=".concat(i.sender))},MoreBox:(0,r.jsx)(r.Fragment,{children:i.isDelete?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(R,{replyInfo:i})})})}),(0,r.jsx)(a.Z,{sx:{mt:2,pl:8,color:"#d7e2e3"},component:"div",children:i.isDelete?(0,r.jsx)(x.Z,{color:"text.secondary",sx:{background:"#292848",borderRadius:"4px",padding:"2px 6px"},children:(0,r.jsx)("em",{children:"Removed"})}):(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(s=null===(t=c[0])||void 0===t?void 0:null===(n=t.data)||void 0===n?void 0:n.replace(/\n/g,"<br />"))&&void 0!==s?s:""}})})]})}):(0,r.jsx)(r.Fragment,{})})};var E=t(59242),N=t(46154);let P=e=>{var n,t;let{assetTempAssetModal:s}=e,{account:i,signer:o,setWalletModalOpen:d,spaceUserInfo:c,currentTimestamp:u}=(0,Z.Yh)(),{setType:h}=(0,j.a)(),{refetchBodhiData:C}=(0,S.n)(),[D,T]=(0,l.useState)(""),[k,B]=(0,l.useState)(!1),[H,L]=(0,l.useState)(""),{loading:M,error:_,data:R,refetch:P}=(0,E.DI)([s.assetId]),{loading:q,error:z,data:X,refetch:Y}=(0,E.k0)(s.assetId);async function U(){if(!i){d(!0);return}let e=(0,N.fO)(c);if(!e){h(j.w.UserInfo);return}if(!D||""===D){(0,g.L)(!1,"Please enter a reply.");return}if(B(!0),""!==H&&H)setTimeout(async()=>{await O(H)},500);else try{let e=await y.Z.post(b.zA.api_text,{text:D});200===e.status?(L(e.data.transactionId),await O(e.data.transactionId)):((0,g.L)(!1,"Upload failed. Please try again."),B(!1))}catch(e){console.error("Error uploading text:",e),B(!1)}}async function O(e){var n,t;if(!e||""==e)return;let r=null===(t=s.spaceUserInfo)||void 0===t?void 0:null===(n=t.spaceAddress)||void 0===n?void 0:n.toString(),a=new I.CH(r,F,o),l={from:i,to:r,value:w.O$.from(0),data:a.interface.encodeFunctionData("create",[e,s.assetId])},d=await a.provider.estimateGas(l);console.log("gasLimit:",d.toNumber());let c=null==o?void 0:o.sendTransaction({...l,gasLimit:d});null==c||c.then(e=>{e.wait().then(e=>{1===e.status?((0,g.L)(!0,"Thanks for the reply."),C&&C(),T(""),L("")):(0,g.L)(!1,"Signature failure."),B(!1)}).catch(()=>{B(!1)})}).catch(()=>{B(!1)})}return(0,l.useEffect)(()=>{P(),Y()},[u,P,Y]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{sx:{mt:2,mb:2}}),(0,r.jsxs)(a.Z,{sx:{mt:2,mb:2},children:[(0,r.jsx)(v.H,{multiline:!0,style:{width:"100%"},value:D,onChange:e=>{T(e.target.value),""!=H&&H.length>0&&L("")},rows:3}),(0,r.jsx)(a.Z,{sx:{mt:3,display:"flex",justifyContent:"right",gap:4},children:(0,r.jsx)(m.Z,{variant:D?"surface":"contained",onClick:()=>{U()},sx:{minWidth:"90px"},disabled:k||!D,startIcon:k&&(0,r.jsx)(f.Z,{size:14}),children:(0,r.jsx)(x.Z,{variant:"buttonM",children:(0,r.jsx)(r.Fragment,{children:k?"Signing":"Reply"})})})})]}),(0,r.jsxs)(x.Z,{sx:{mb:4},children:["Replies (",M?0:null!==(t=null==R?void 0:null===(n=R.spaceCounts.find(e=>e.parentId==s.assetId))||void 0===n?void 0:n.count)&&void 0!==t?t:0,")"]}),(0,r.jsx)(a.Z,{children:q?(0,r.jsx)(r.Fragment,{children:"loading..."}):(0,r.jsx)(r.Fragment,{children:null==X?void 0:X.spaces.map((e,n)=>(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(A,{replyInfo:e},n)}))})})]})};var q=t(47781),z=t(2623),X=t(20916),Y=t(40044),U=t(68806),O=t(76312),$=t(42292),G=t(47726),W=t(87952),K=t(11288),V=t.n(K);let Q=e=>{let{trade:n}=e,t=0==n.tradeType?"MINTED":1==n.tradeType?"BOUGHT":2==n.tradeType?"SOLD":"",s=$._;if(n.user.address==b.TT[b.KY].tradeHelper){let e=(0,C.c1)(n.transactionHash);e&&(s=e.from.toLowerCase())}else s=n.user.address;return(0,r.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"row",gap:2,alignItems:"center"},children:[(0,r.jsx)(W.Z,{sx:{width:"24px",height:"24px"},alt:"",src:V()(s)}),(0,r.jsxs)(x.Z,{children:[(0,G.Xe)(s,5,0)," ","MINTED"===t?"(creator)":""]}),(0,r.jsx)(x.Z,{variant:"main16",sx:{backgroundColor:2==n.tradeType?"#6e1313":"#335456",borderRadius:"2px",padding:"0px 3px"},children:t}),(0,r.jsxs)(x.Z,{children:[n.tokenAmount," share ","MINTED"===t?"":"for ".concat(n.ethAmount," CFX")]})]})};var J=t(36444);let ee=e=>{let{holders:n}=e;return(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(J.X,{sx:{padding:"4px 20px"},children:[(0,r.jsx)(x.Z,{variant:"main16",children:"HOLDER"}),(0,r.jsx)(x.Z,{variant:"main16",children:"SHARE"})]}),n.map((e,n)=>(0,r.jsxs)(J.X,{sx:{padding:"4px 20px"},children:[(0,r.jsx)(x.Z,{variant:"secondary16",children:(0,G.Xe)(e.user.address,4,4)}),(0,r.jsx)(x.Z,{variant:"secondary16",children:e.amount})]},n))]})};var en=t(49479),et=t(26384);let er=e=>{let{...n}=e;return(0,r.jsx)(et.G,{...n,children:(0,r.jsx)(r.Fragment,{children:"Total amount invested in this asset"})})},es=e=>{let{asset:n}=e,{ethPrice:t}=(0,Z.Yh)();return(0,r.jsxs)(a.Z,{children:[(0,r.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:"4px",padding:"4px 20px"},children:[(0,r.jsx)(a.Z,{sx:{display:"flex",flexDirection:"row"},children:(0,r.jsx)(x.Z,{variant:"main16",children:"Share Supply"})}),(0,r.jsx)(en.B,{value:n.totalSupply,variant:"main16",symbol:"Shares"})]}),(0,r.jsxs)(a.Z,{sx:{mt:4,display:"flex",flexDirection:"column",gap:"4px",padding:"4px 20px"},children:[(0,r.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"row"},children:[(0,r.jsx)(x.Z,{variant:"main16",children:"Total Fees in the Pool"}),(0,r.jsx)(er,{})]}),(0,r.jsx)(en.B,{value:n.totalFees*(null!=t?t:0),variant:"main16",symbol:"USD"}),(0,r.jsx)(en.B,{value:n.totalFees,variant:"secondary14",color:"text.secondary",compact:!0,visibleDecimals:4,symbol:"CFX"})]}),(0,r.jsxs)(a.Z,{sx:{mt:4,display:"flex",flexDirection:"column",gap:"4px",padding:"4px 20px"},children:[(0,r.jsx)(a.Z,{sx:{display:"flex",flexDirection:"row"},children:(0,r.jsx)(x.Z,{variant:"main16",children:"Total Trading Volume"})}),(0,r.jsx)(en.B,{value:n.totalTradValue*(null!=t?t:0),variant:"main16",symbol:"USD"}),(0,r.jsx)(en.B,{value:n.totalTradValue,variant:"secondary14",color:"text.secondary",compact:!0,visibleDecimals:4,symbol:"CFX"})]})]})};function ea(){let e=(0,c._)(["\n  query GetTrades($id: Int!) {\n      trades(orderDirection: desc, orderBy: blockNumber, where: {assetId: $id}) {\n        assetId\n        blockTimestamp \n        ethAmount \n        price\n        tokenAmount\n        tradeType\n        transactionHash\n        user {\n        address\n        }\n    }\n  }\n"]);return ea=function(){return e},e}function ei(){let e=(0,c._)(['\n  query GetHolders($id: Int!) {\n     assets(where: {assetId: $id}) { \n        holders(orderBy: amount, orderDirection: desc, where: {amount_gt: "0"}) {\n            amount\n            user {\n                address\n            }\n        }\n    }\n  }\n']);return ei=function(){return e},e}function el(){let e=(0,c._)(["\n  query GetOverview($id: Int!) {\n     assets(where: {assetId: $id}) {\n      assetId\n      isDelete\n      totalFees\n      totalHolders\n      totalSupply\n      totalTradValue\n      totalTradVolume\n      totalTrades\n      creator {\n        address\n      }\n    }\n  }\n"]);return el=function(){return e},e}let eo=(0,U.Ps)(ea()),ed=(0,U.Ps)(ei()),ec=(0,U.Ps)(el()),ex=e=>{let{assetId:n}=e,{currentTimestamp:t}=(0,Z.Yh)(),[s,i]=(0,l.useState)(0),{loading:o,error:d,data:c,refetch:x}=(0,O.a)(eo,{variables:{id:parseInt(n.toString())}}),{loading:u,error:h,data:p,refetch:m}=(0,O.a)(ed,{variables:{id:parseInt(n.toString())}}),{loading:f,error:j,data:v,refetch:g}=(0,O.a)(ec,{variables:{id:parseInt(n.toString())}});return(0,l.useEffect)(()=>{x(),m(),g()},[t,g]),console.log({name:"AssetDetailOverview----------------------------",overviewLoading:f,overviewError:j,overviewData:v}),(0,r.jsxs)(a.Z,{sx:{mt:3,mb:3},children:[(0,r.jsx)(a.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,r.jsxs)(X.Z,{value:s,onChange:(e,n)=>{i(n)},sx:{minHeight:"36px","& .MuiTabs-indicator":{backgroundColor:"#75cedb"},"& .Mui-selected":{color:"#75cedb"}},children:[(0,r.jsx)(Y.Z,{label:"Recent Trades",className:"bodhi-tabs",sx:{minHeight:"36px",fontSize:"0.975rem","&.Mui-selected":{color:"#75cedb"}}}),(0,r.jsx)(Y.Z,{label:"Holders",className:"bodhi-tabs",sx:{minHeight:"36px",fontSize:"0.975rem","&.Mui-selected":{color:"#75cedb"}}}),(0,r.jsx)(Y.Z,{label:"Overview",className:"bodhi-tabs",sx:{minHeight:"36px",fontSize:"0.975rem","&.Mui-selected":{color:"#75cedb"}}})]})}),(0,r.jsxs)(a.Z,{sx:{mt:3},children:[0==s&&(0,r.jsx)(a.Z,{sx:{display:"flex",flexDirection:"column",gap:4},children:o||d||!c?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:c.trades.map((e,n)=>(0,r.jsx)(Q,{trade:e},n))})}),1==s&&(0,r.jsx)(a.Z,{children:u||h||!p?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(ee,{holders:p.assets[0].holders},0)})}),2==s&&(0,r.jsx)(a.Z,{children:f||j||!v?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(es,{asset:v.assets[0]})})})]})]})};var eu=t(17567);let eh=e=>{var n,t,s,l;let{assetTempAssetModal:o,assetData:c}=e,p=(0,d.useRouter)(),{setTempAssetModal:m}=(0,q.R)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.W,{assetId:null==o?void 0:o.assetId,totalSupply:null!==(n=null==c?void 0:c.totalSupply)&&void 0!==n?n:0,goback:"/"}),(null==c?void 0:c.isDelete)?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{sx:e=>({padding:"12px",background:"#312f5c",mt:3}),children:(0,r.jsx)(x.Z,{variant:"secondary16",color:"text.secondary",children:"Hmm...this page doesn’t exist."})})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,{sx:e=>({padding:"12px",background:"#312f5c",mt:3}),children:[(0,r.jsx)(a.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,r.jsx)(r.Fragment,{children:o.spaceUserInfo&&(0,r.jsx)(D.M,{blockTimestamp:o.blockTimestamp,sender:o.sender,spaceUserInfo:o.spaceUserInfo,handleClick:()=>{p.push("/space-overview/?address=".concat(o.sender))},MoreBox:(0,r.jsx)(r.Fragment,{children:c&&(0,r.jsx)(eu.e,{assetId:o.assetId,assetData:c})})})})}),(0,r.jsx)(a.Z,{sx:{mt:3,color:"#d7e2e3"},component:"div",children:(0,r.jsx)("div",{className:"ql-editor bodhi-editor-detail",dangerouslySetInnerHTML:{__html:null!==(t=null==o?void 0:o.contentData)&&void 0!==t?t:""}})}),(0,r.jsx)(a.Z,{sx:{mt:3,pt:1,borderTop:"1px solid #434b59",display:"flex",justifyContent:"space-between"},children:(0,r.jsxs)(a.Z,{sx:{display:"flex",gap:4,alignItems:"start",justifyContent:"space-between",flex:1},children:[(0,r.jsx)(u.H,{assetId:null==o?void 0:o.assetId,totalSupply:null!==(s=null==c?void 0:c.totalSupply)&&void 0!==s?s:0,showUnit:!0,handleClick:()=>{m(o)}}),(0,r.jsx)(h.p,{assetId:null==o?void 0:o.assetId,holdersCount:null!==(l=null==c?void 0:c.totalHolders)&&void 0!==l?l:0})]})}),(0,r.jsx)(a.Z,{children:(0,r.jsx)(P,{assetTempAssetModal:o})})]}),(0,r.jsx)(ex,{assetId:null==o?void 0:o.assetId})]})]})};function ep(){let e=(0,c._)(["\n  query GetCreates($assetId: Int!) {\n   creates(where: {assetId: $assetId}) {\n     id\n     assetId\n     arTxId\n     sender\n     blockTimestamp\n     transactionHash\n    }\n  }\n"]);return ep=function(){return e},e}let em=(0,U.Ps)(ep()),ef=e=>{var n,t,s,a;let{assetId:o}=e,{currentTimestamp:d}=(0,Z.Yh)(),{loading:c,error:u,data:h,refetch:p}=(0,O.a)(em,{variables:{assetId:Number(o)}}),m=(null==h?void 0:null===(n=h.creates)||void 0===n?void 0:n.map(e=>e.sender))||[],{loading:f,error:j,data:v,refetch:g}=(0,E.iG)([Number(o)]),{loading:y,error:b,data:I,refetch:w}=(0,E.aB)(m),F=(null==h?void 0:null===(t=h.creates)||void 0===t?void 0:t.map(e=>e.arTxId))||[],S=(0,C.lv)(F);(0,l.useEffect)(()=>{p(),g(),w()},[d,p]);let D=(0,l.useMemo)(()=>v&&v.assets.length>0?v.assets[0]:void 0,[v]);return(0,r.jsx)(r.Fragment,{children:o&&!u&&S.length>0&&(null==h?void 0:h.creates)&&!j?(0,r.jsx)(eh,{assetTempAssetModal:{id:null==h?void 0:h.creates[0].id,assetId:Number(o),arTxId:null==h?void 0:h.creates[0].arTxId,sender:null==h?void 0:h.creates[0].sender,blockTimestamp:null==h?void 0:h.creates[0].blockTimestamp,transactionHash:null==h?void 0:h.creates[0].transactionHash,contentData:null===(s=S[0])||void 0===s?void 0:s.data,spaceUserInfo:null==I?void 0:I.spaceFactories.find(e=>e.user==m[0]),assetSupply:null!==(a=null==D?void 0:D.totalSupply)&&void 0!==a?a:0},assetData:D}):(0,r.jsx)(i.Z,{sx:e=>({padding:"12px",background:"#312f5c"}),children:c?(0,r.jsx)(r.Fragment,{children:"loading..."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z.W,{assetId:parseInt(o),totalSupply:0}),(0,r.jsx)(x.Z,{sx:{mt:5},children:"No data"})]})})})};function ej(){let e=(0,d.useRouter)(),n=e.query.assetid;return(0,s.Z)("(max-width:980px)"),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(o.Z,{children:(0,r.jsx)(a.Z,{sx:{display:"flex",flex:1,flexDirection:"column",gap:4},children:(0,r.jsx)(r.Fragment,{children:n?(0,r.jsx)(ef,{assetId:null==n?void 0:n.toString()}):(0,r.jsx)(i.Z,{sx:e=>({padding:"12px",background:"#312f5c"}),children:"No data"})})})})})}},53345:function(e,n,t){"use strict";t.d(n,{H:function(){return d}});var r=t(82729),s=t(85893),a=t(67294),i=t(59608),l=t(45098);function o(){let e=(0,r._)(["\n  display: flex;\n  max-width: 100%;\n"]);return o=function(){return e},e}let d=a.forwardRef(function(e,n){return(0,s.jsx)(i.I,{slots:{root:x,input:"input",textarea:u},...e,ref:n})}),c={50:"#F3F6F9",100:"#E5EAF2",200:"#DAE2ED",300:"#C7D0DD",400:"#B0B8C4",500:"#9DA8B7",600:"#6B7A90",700:"#434D5B",800:"#303740",900:"#1C2025"},x=(0,l.Z)("div")(o()),u=(0,l.Z)("textarea",{shouldForwardProp:e=>!["ownerState","minRows","maxRows"].includes(e.toString())})(e=>{let{theme:n}=e;return"\n  width: 100%;\n  font-family: 'IBM Plex Sans', sans-serif;\n  font-size: 0.875rem;\n  font-weight: 400;\n  line-height: 1.5rem;\n  padding: 8px 12px;\n  border-radius: 4px 4px 0 4px;\n  color: ".concat((n.palette.mode,c[900]),";\n  background: ").concat((n.palette.mode,"#f2f2f2"),";\n  border: 1px solid ").concat((n.palette.mode,c[200]),";\n \n\n  &:hover {\n    border-color: ").concat(c[400],";\n  }\n\n  &:focus {\n    border-color: ").concat(c[400],"; \n  }\n\n  // firefox\n  &:focus-visible {\n    outline: 0;\n  }\n")})},92900:function(e,n,t){"use strict";t.d(n,{M:function(){return o}});var r=t(85893),s=t(47726),a=t(5616),i=t(15861),l=t(87952);t(67294);let o=e=>{let{sender:n,blockTimestamp:t,spaceUserInfo:o,imgWidth:d,showSpaceId:c,handleClick:x,MoreBox:u}=e,{avatar:h,spacename:p}=(0,s.Dm)(n,o);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:1,cursor:"pointer"},component:"div",onClick:()=>{x&&x()},children:[c&&(0,r.jsxs)(i.Z,{variant:"main16",sx:{mr:2},children:["#",null==o?void 0:o.spaceId]}),(0,r.jsx)(l.Z,{sx:{width:d?"".concat(d,"px"):"36px",height:d?"".concat(d,"px"):"36px"},alt:p,src:h}),(0,r.jsxs)(a.Z,{sx:{ml:2},children:[(0,r.jsx)(i.Z,{variant:"main16",children:p}),(0,r.jsx)(i.Z,{variant:"secondary14",color:"text.secondary",children:(0,s.Xe)(n,4,4)})]})]}),(0,r.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",gap:3},children:[t&&(0,r.jsx)(a.Z,{children:(0,r.jsx)(i.Z,{variant:"secondary14",color:"text.secondary",children:(0,s.i$)(t)})}),u&&(0,r.jsx)(a.Z,{children:u})]})]})}},2623:function(e,n,t){"use strict";t.d(n,{W:function(){return h}});var r=t(85893),s=t(5616),a=t(15861),i=t(31065),l=t(21023),o=t(41664),d=t.n(o),c=t(11163),x=t(49479),u=t(97975);let h=e=>{let{assetId:n,totalSupply:t,goback:o,child:h}=e,p=(0,c.useRouter)(),{account:m,ethPrice:f,currentTimestamp:j}=(0,i.Yh)(),{data:v,error:g}=(0,u.TX)(n,t,null!=j?j:0),{data:y,error:b}=(0,u.bo)(null!=m?m:"",n,null!=j?j:0);return(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",backgroundColor:"#4b4984",border:"1px solid #4b4984",borderRadius:1,padding:"10px",gap:2},children:[(0,r.jsxs)(s.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,r.jsx)(d(),{href:"#",onClick:()=>{document.referrer?p.back():p.push("/")},children:(0,r.jsx)(l.Z,{sx:{color:"#F9FFFE"}})}),h&&(0,r.jsx)(r.Fragment,{children:h})]}),m?(0,r.jsx)(r.Fragment,{children:!g&&!b&&v&&y?(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",justifyContent:"end",alignItems:"flex-end",mt:2,gap:2},children:[(0,r.jsx)(x.B,{value:v*y*(null!=f?f:0),variant:"main21",compact:!0,visibleDecimals:3,symbol:"USD"}),(0,r.jsxs)(a.Z,{children:["My Shares:"," ",y," "," ","(≈ ",(0,r.jsx)(x.B,{value:v*y,compact:!0,visibleDecimals:2,symbol:"CFX"}),")"]})]}):(0,r.jsx)(r.Fragment,{})}):(0,r.jsx)(r.Fragment,{})]})}},60355:function(e,n,t){"use strict";t.d(n,{H:function(){return u}});var r=t(85893),s=t(5616),a=t(69417),i=t(15861),l=t(49479),o=t(20261),d=t(31065),c=t(64032),x=t(97975);let u=e=>{let{totalSupply:n,assetId:t,handleClick:u,showUnit:h}=e,{setType:p}=(0,c.a)(),{account:m,ethPrice:f,setWalletModalOpen:j}=(0,d.Yh)(),{data:v,error:g}=(0,x.k)(t,n);async function y(){m?(p(c.w.AssetBuy),u&&u()):j(!0)}return(0,r.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(a.Z,{variant:"text",startIcon:(0,r.jsx)(o.Z,{}),sx:{padding:"2px 0px",minWidth:"20px"},onClick:()=>{y()},children:(0,r.jsx)(l.B,{value:!g&&v?v*(null!=f?f:0):0,symbol:"USD",variant:"secondary16",symbolsVariant:"secondary16",visibleDecimals:3})}),h&&(0,r.jsx)(i.Z,{color:"text.secondary",sx:{ml:4},component:"div",onClick:()=>{y()},children:(0,r.jsx)(l.B,{value:null!=v?v:0,variant:"secondary14",compact:!0,visibleDecimals:3,symbol:"CFX/Share"})})]})}},85119:function(e,n,t){"use strict";t.d(n,{p:function(){return o}});var r=t(85893),s=t(69417),a=t(49479),i=t(78878),l=t(11163);let o=e=>{let{assetId:n,holdersCount:t,handleClick:o}=e,d=(0,l.useRouter)();return(0,r.jsx)(s.Z,{variant:"text",startIcon:(0,r.jsx)(i.Z,{}),sx:{padding:"2px 6px",minWidth:"20px"},onClick:()=>{o&&o(),d.push("/asset-overview/?assetid=".concat(n))},children:(0,r.jsx)(a.B,{value:null!=t?t:0,variant:"secondary16",symbolsVariant:"secondary16",visibleDecimals:0})})}},17567:function(e,n,t){"use strict";t.d(n,{e:function(){return Z}});var r=t(85893),s=t(5616),a=t(93946),i=t(53219),l=t(35294),o=t(18972),d=t(15861),c=t(59334),x=t(79369),u=t(67294),h=t(46907),p=t(11359),m=t(10084),f=t(31065),j=t(74187),v=t(77294),g=t(2593),y=t(91783),b=t(19215);let Z=e=>{var n;let{assetId:t,assetData:Z}=e,{account:I,signer:w,spaceUserInfo:F}=(0,f.Yh)(),{refetchBodhiData:S}=(0,b.n)(),[C,D]=(0,u.useState)(null),T=!!C,k=()=>{D(null)};async function B(){try{let e=j.TT[j.KY].bodhi,n=new v.CH(e,y,w),r={from:I,to:e,value:g.O$.from(0),data:n.interface.encodeFunctionData("remove",[t])},s=await n.provider.estimateGas(r);console.log("gasLimit:",s.toNumber());let a=null==w?void 0:w.sendTransaction({...r,gasLimit:s});null==a||a.then(e=>{e.wait().then(e=>{1===e.status?(0,m.L)(!0,"Remove Success."):(0,m.L)(!1,"Confirm failure."),S&&S()}).catch(e=>{(0,m.L)(!1,e.reason)})}).catch(e=>{(0,m.L)(!1,e.reason)})}catch(e){-32603===e.code&&-32015==e.data.code?(0,m.L)(!1,"Insufficient funds for gas."):(0,m.L)(!1,"Confirm failure.")}}return(0,r.jsxs)(s.Z,{children:[(0,r.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:18,height:18,borderRadius:"50%",p:0,minWidth:0},onClick:e=>{D(e.currentTarget)},children:(0,r.jsx)(i.Z,{sx:{fontSize:18,color:T?"info.main":"text.muted",borderRadius:"50%","&:hover":"info.main"},children:(0,r.jsx)(x.Z,{fontSize:"medium",sx:{color:"#d7e2e3"}})})}),(0,r.jsxs)(l.Z,{id:"withdraw-item-extra-menu",anchorEl:C,open:T,onClose:k,keepMounted:!0,PaperProps:{sx:{minWidth:"120px",py:0}},sx:{"& .MuiMenu-paper":{backgroundColor:"#2e2c56",boxShadow:"3px 3px 2px #1e1d35"}},children:[(0,r.jsxs)(o.Z,{sx:{gap:2},onClick:()=>{k(),(0,m.L)(!1," Coming soon!")},children:[(0,r.jsx)(p.Z,{color:"info",fontSize:"small"}),(0,r.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,r.jsx)(c.Z,{sx:{},children:"Share on"}),(0,r.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",style:{height:"14px"},children:(0,r.jsx)("g",{children:(0,r.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z",fill:"#ffffff"})})})]})]}),I==(null===(n=Z.creator)||void 0===n?void 0:n.address)&&(null==F?void 0:F.descriptionAssetId)!==t.toString()?(0,r.jsxs)(o.Z,{sx:{gap:2},onClick:()=>{k(),B()},children:[(0,r.jsx)(h.Z,{color:"error",fontSize:"small"}),(0,r.jsx)(c.Z,{sx:{color:"#ff0000"},children:"Delete"})]}):(0,r.jsx)(r.Fragment,{})]})]})}},36444:function(e,n,t){"use strict";t.d(n,{X:function(){return i}});var r=t(85893),s=t(5616),a=t(15861);let i=e=>{let{caption:n,children:t,captionVariant:i="secondary16",captionColor:l,align:o="center",...d}=e;return(0,r.jsxs)(s.Z,{...d,sx:{display:"flex",alignItems:o,justifyContent:"space-between",...d.sx},children:[n&&(0,r.jsx)(a.Z,{component:"div",variant:i,color:l,sx:{mr:2},children:n}),t]})}},97975:function(e,n,t){"use strict";t.d(n,{TX:function(){return x},bo:function(){return u},c1:function(){return o},k:function(){return c},lv:function(){return l},r2:function(){return d}});var r=t(31065),s=t(46154),a=t(99673),i=t(88144);let l=e=>{let n=(0,r.Yh)(e=>e.fetchArweaveData),t=(0,a.h)({queries:e.map(e=>({queryKey:["arweaveData",e],queryFn:()=>n(e),refetchInterval:6e4}))});return t},o=e=>{let{data:n,error:t}=(0,i.a)({queryKey:["useGetTransactionInfo",e],queryFn:()=>(0,s.Q1)(e),refetchInterval:6e4});return t?void 0:n},d=e=>{let n=(0,r.Yh)(e=>e.getBuyPrice),t=(0,a.h)({queries:e.map(e=>({queryKey:["getBuyPrice",e.assetId,e.totalSupply],queryFn:()=>n(e.assetId,1,e.totalSupply),refetchInterval:6e4}))});return t},c=(e,n)=>{let t=(0,r.Yh)(e=>e.getBuyPrice),{data:s,error:a}=(0,i.a)({queryKey:["getBuyPrice",e,n],queryFn:()=>t(e,1,n),refetchInterval:6e4});return{data:s,error:a}},x=(e,n,t)=>{let s=(0,r.Yh)(e=>e.getSellPrice),{data:a,error:l}=(0,i.a)({queryKey:["getSellPrice",e,n,t],queryFn:()=>s(e,1,n),refetchInterval:6e4});return{data:a,error:l}},u=(e,n,t)=>{let s=(0,r.Yh)(e=>e.getBalanceByAccount_Asset),{data:a,error:l}=(0,i.a)({queryKey:["getBalanceByAccount_Asset",n,e,t],queryFn:()=>s(e,n),refetchInterval:6e4});return{data:a,error:l}}}},function(e){e.O(0,[240,266,87,930,170,144,66,114,709,973,952,774,888,179],function(){return e(e.s=51886)}),_N_E=e.O()}]);